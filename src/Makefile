# Compiler
CC = gcc

# Compiler flags. -g for debug, -O3 for optimization
CFLAGS = -g -O3

# Object Files
OBJS = history.o tokenizer.o

# Target Executable Name
TARGET = tokenizer

# First target is built by default
all: $(TARGET)

# Include file dependencies
history.o: history.h history.c
	$(CC) $(CFLAGS) -c history.c -o history.o

tokenizer.o: tokenizer.h tokenizer.c
	$(CC) $(CFLAGS) -c tokenizer.c -o tokenizer.o

# $@=target, $^=prerequisites
$(TARGET): $(OBJS)
	$(CC) -o $@ $^ $(CFLAGS)

# Deletes files generated by compilation
clean:
	rm -f *.o $(TARGET)
